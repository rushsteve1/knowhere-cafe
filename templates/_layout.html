{{ if .Fragment }}
<main>{{ block "main" . }}{{ end }}</main>
{{ else }}
<!doctype html>
<html lang="{{ .Cfg.Lang }}">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<title>{{ .Cfg.DisplayName }} - {{ block "title" . }}{{ end }}</title>

		<script
			src="https://cdn.jsdelivr.net/npm/unpoly@3.9.2/unpoly.min.js"
			integrity="sha256-A5+bCodk6kD33MV6ggQbH1GRh08O8lDejs7b6J7Aplw="
			crossorigin="anonymous"
		></script>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/unpoly@3.9.2/unpoly.min.css"
			integrity="sha256-3car2ohUDJpa38UQ9WCfdk9CDABlJ+abT/4AFCTOG8M="
			crossorigin="anonymous"
		/>

		<script src="/static/js/layout.js"></script>
		<link href="/static/style/layout.css" rel="stylesheet" />
	</head>

	<body>
		<header>
			<a href="https://{{ .Cfg.DomainName }}">
				<img src="/static/img/logo.svg" />
				<h1>{{ .Cfg.DisplayName }}</h1>
			</a>
		</header>
		<nav>
			<form action="/search" method="GET">
				<input type="text" placeholder="Search" />
				<input type="submit" />
			</form>
			<a href="/posts">Posts</a>
			<a href="/users">Users</a>
			<a href="/about">About</a>
			<!-- TODO user buttons -->
		</nav>
		<main>{{ block "main" . }}{{ end }}</main>
		<footer>
			<a href="/about">About</a> | <a href="/src">Code</a> | rendered at
			{{ .Now }}
		</footer>
	</body>
</html>
{{ end }}
